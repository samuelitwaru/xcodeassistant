import{Q as u,R as D}from"./QBtn.5b322f3a.js";import{Q as _}from"./QIcon.5fefd665.js";import{Q as h,a as x}from"./QHeader.8c5c66ac.js";import{Q as L,a as C,b as F,c as g,d as V,e as B}from"./QDrawer.611fe888.js";import{Q as M,a as q}from"./QLayout.6df44e6e.js";import{t as c,Y as I,r as w,o as s,c as m,w as t,d as a,Z as v,F as Q,_ as N,D as R,E as T,B as y,H,a as b,$ as O,a0 as S}from"./index.8354598b.js";import{api as k}from"./axios.04ca824a.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import"./render.88e06a72.js";import"./dom.e258fbd2.js";import"./use-dark.bbfff598.js";const K={name:"MyLayout",setup(){const r=c(!1);c("");const l=I();function p(){r.value=!r.value}const e=c({}),i={name:"",model:l.params.model_id};function f(){k.get(`models/${l.params.model_id}/`).then(d=>{e.value=d.data,console.log(e.value)})}function n(){k.post("fields/",i).then(d=>{f(),i.name=""})}return f(),{model:e,leftDrawerOpen:r,formData:i,toggleLeftDrawer:p,createField:n}}},U={class:"q-pa-sm",align:"right"};function z(r,l,p,e,i,f){const n=w("router-link"),d=w("router-view");return s(),m(M,{view:"hHh lpR fFf",class:"bg-grey-1"},{default:t(()=>[a(x,{elevated:"",class:"bg-white text-grey-8 q-py-xs","height-hint":"58"},{default:t(()=>[a(n,{to:"/models"},{default:t(()=>[a(u,{flat:"",dense:"",round:"",onClick:e.toggleLeftDrawer,"aria-label":"Menu",icon:"arrow_back"},null,8,["onClick"])]),_:1}),a(u,{flat:"",dense:"",round:"",onClick:e.toggleLeftDrawer,"aria-label":"Menu",icon:"menu"},null,8,["onClick"]),a(n,{to:`/models/${r.$route.params.model_id}`},{default:t(()=>[r.$q.screen.gt.xs?(s(),m(u,{key:0,flat:"","no-caps":"","no-wrap":"",class:"q-ml-xs"},{default:t(()=>[a(_,{name:"fas fa-cube",color:"red",size:"28px"}),a(h,{shrink:"",class:"text-weight-bold"},{default:t(()=>[v(Q(e.model.name),1)]),_:1})]),_:1})):N("",!0)]),_:1},8,["to"])]),_:1}),a(B,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":l[3]||(l[3]=o=>e.leftDrawerOpen=o),"show-if-above":"",bordered:"",class:"bg-grey-2",width:240},{default:t(()=>[a(L,{class:"fit"},{default:t(()=>[a(C,{padding:""},{default:t(()=>[(s(!0),R(H,null,T(e.model.fields,o=>(s(),m(n,{key:o,to:`/models/${r.$route.params.model_id}/fields/${o.id}`},{default:t(()=>[y((s(),m(F,{clickable:"",active:r.$route.params.field_id==o.id,"active-class":"menu-item-active"},{default:t(()=>[a(g,{avatar:""},{default:t(()=>[a(_,{color:"grey",name:"fa fa-atom"})]),_:1}),a(g,null,{default:t(()=>[a(V,null,{default:t(()=>[v(Q(o.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["active"])),[[D]])]),_:2},1032,["to"]))),128)),b("div",U,[y(b("input",{onBlur:l[0]||(l[0]=(...o)=>e.createField&&e.createField(...o)),onKeyup:l[1]||(l[1]=S((...o)=>e.createField&&e.createField(...o),["enter"])),"onUpdate:modelValue":l[2]||(l[2]=o=>e.formData.name=o),type:"text",placeholder:"new field"},null,544),[[O,e.formData.name]])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(q,null,{default:t(()=>[a(d)]),_:1})]),_:1})}var ae=E(K,[["render",z]]);export{ae as default};
